<!DOCTYPE html>
<html lang="en-US">
<head>
	<title>Guess the button</title>
	<meta charset='utf-8'>
</head>
<body>
	<h3 id="conversation">Select a button below</h3>
	<form>
		<fieldset>
			<legend>Guess the button and win a prize</legend>
			<button type="submit" id="button1" onclick="return showResult(this)">Button 1</button>
			<button type="submit" id="button2" onclick="return showResult(this)">Button 2</button>
			<button type="submit" id="button3" onclick="return showResult(this)">Button 3</button>
		</fieldset>
	</form>

	<script>
		var nr_buttons = 3;
		var message_win = 'YOU WIN!!! A new round will start in 3s';
		var message_loss = 'Try again';

		function getRandomInt(max) {
			return Math.floor(Math.random() * Math.floor(max))
		}

		var answer = getRandomInt(nr_buttons);

		function showResult(btn){
			var option = parseInt(btn.id[6]);
			if ((option - 1) === answer) {
				document.getElementById('conversation').innerText = message_win;
				setTimeout(refresh, 3000);
			} else {
				document.getElementById('conversation').innerText = message_loss;
			}
			return false;
		}

		function refresh() {
			location.reload();
		}
	</script>
</body>
</html>